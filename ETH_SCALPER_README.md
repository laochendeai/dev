# ETH 剥头皮交易机器人

这是一个基于CoinGecko API的以太坊剥头皮交易机器人，用于自动化执行高频交易策略。

## 功能特点

- 🔄 **实时价格监控**: 使用CoinGecko API获取ETH实时价格
- 📊 **技术指标分析**:
  - 移动平均线 (MA)
  - 相对强弱指数 (RSI)
  - 价格动量分析
- 🎯 **智能交易策略**:
  - 多重信号确认
  - 自动止盈止损
  - 风险管理
- 📝 **详细日志记录**: 记录所有交易决策和结果
- 💰 **模拟交易**: 安全的纸面交易环境

## 文件说明

- `eth_scalping_trader.py` - 主要的交易机器人代码
- `test_eth_scalper.py` - 功能测试脚本
- `eth_scalper.log` - 交易日志文件

## 安装要求

```bash
pip install requests numpy
```

## 使用方法

### 1. 基本运行

```bash
python3 eth_scalping_trader.py
```

### 2. 自定义配置

```python
from eth_scalping_trader import ETHScalper

# 创建自定义配置的交易机器人
scalper = ETHScalper(
    min_profit_threshold=0.001,  # 0.1% 最小利润阈值
    max_position_size=1000,      # 最大头寸大小(USD)
    stop_loss=0.005,            # 0.5% 止损
    check_interval=30           # 检查间隔(秒)
)

# 运行交易循环
scalper.run_scalping_cycle()
```

### 3. 测试功能

```bash
python3 test_eth_scalper.py
```

## 交易策略

### 技术指标
- **移动平均线**: 比较5日短期MA和20日长期MA
- **RSI**: 14周期相对强弱指数，超买>70，超卖<30
- **价格动量**: 1小时和6小时价格变动分析

### 交易信号
- **买入信号**:
  - 短期MA > 长期MA
  - RSI < 30 (超卖)
  - 强劲上涨动量
- **卖出信号**:
  - 短期MA < 长期MA
  - RSI > 70 (超买)
  - 强劲下跌动量

### 风险管理
- **止盈**: 达到最小利润阈值(默认0.1%)
- **止损**: 亏损达到设定阈值(默认0.5%)
- **头寸控制**: 不超过设定最大头寸和余额的10%

## API限制

CoinGecko免费API有以下限制:
- 请求频率限制 (约10-50次/分钟)
- 历史数据获取需要2天以上的天数参数
- 小时级数据仅对企业版用户开放

## 配置参数

| 参数 | 默认值 | 说明 |
|------|--------|------|
| `min_profit_threshold` | 0.001 | 最小利润阈值 (0.1%) |
| `max_position_size` | 1000 | 最大头寸大小 (USD) |
| `stop_loss` | 0.005 | 止损阈值 (0.5%) |
| `check_interval` | 30 | 价格检查间隔 (秒) |
| `balance` | 10000 | 起始模拟余额 (USD) |

## 日志示例

```
2025-11-23 07:53:07,784 - INFO - 当前ETH价格: $2792.11
2025-11-23 07:53:08,174 - INFO - 市场信号: hold (信心: 30%)
2025-11-23 07:53:15,432 - INFO - 建立long头寸: $500.00 @ $2792.45
2025-11-23 07:53:15,433 - INFO - 止损: $2778.49, 止盈: $2795.23
2025-11-23 07:53:45,127 - INFO - 平仓(止盈): long $500.00
2025-11-23 07:53:45,128 - INFO - 盈亏: $2.78 (0.56%)
```

## 警告与免责声明

⚠️ **重要警告**:

1. **仅供学习和演示**: 此机器人仅用于教育目的
2. **模拟交易**: 使用模拟资金，不涉及真实资金
3. **市场风险**: 加密货币交易具有高风险
4. **API限制**: 受第三方API服务限制影响
5. **不构成投资建议**: 请勿基于此代码进行实际投资决策

## 扩展功能

可以考虑添加的功能:
- [ ] 多币种支持
- [ ] 更复杂的技术指标
- [ ] 机器学习预测模型
- [ ] 实时图表显示
- [ ] 电报/微信通知
- [ ] 数据库存储
- [ ] Web管理界面

## 项目状态

✅ **已完成功能**:
- CoinGecko API集成
- 实时价格获取
- 技术指标计算(MA, RSI)
- 市场信号分析
- 模拟交易逻辑
- 风险管理(止损止盈)
- 日志记录系统
- 功能测试脚本

⚠️ **当前限制**:
- 受CoinGecko API频率限制影响
- 需要等待API限制重置才能正常运行
- 仅支持ETH单一币种

---

**免责声明**: 本项目仅供学习和研究使用。实际交易存在资金损失风险，使用前请充分了解相关风险。